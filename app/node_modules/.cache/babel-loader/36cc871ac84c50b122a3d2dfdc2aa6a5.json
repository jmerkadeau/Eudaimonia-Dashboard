{"ast":null,"code":"import _regeneratorRuntime from\"/Users/stanleyjia/Documents/Eudaimonia/firebase-auth/auth-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/stanleyjia/Documents/Eudaimonia/firebase-auth/auth-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import'../App.css';import{database}from'../Firebase.js';import{date}from'./GetDate.js';// async function getMoodLog() {\n//     //Haven't updated for change of data structure yet\n//     //const userInfo = auth.currentUser;\n//     //const uid = userInfo.uid;\n//     const uid = 'BQJQmkLEsmSLFn6WF2JWWlXZzVo1';\n//     var moods = [];\n//     var moodObj = {};\nfunction getMoodLog(_x){return _getMoodLog.apply(this,arguments);}//   const ref = database.ref('moods/' + uid + '/' + date);\n//   ref.once('value', (snapshot) => {\n//     var moods = [];\n//     snapshot.forEach((a) => {\n//       const t = a.key;\n//       const time = timeToInteger(t);\n//       const m = a.val();\n//       const mood = m[Object.keys(m)[0]];\n//       var moodObj = {\n//         'time': time,\n//         'mood': mood\n//       };\n//       moods.push(moodObj);\n//     });\n//     callback(moods);\n//     return (moods);\n//   });\n// }\nfunction _getMoodLog(){_getMoodLog=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(callback){var uid,moods,moodObj,timeToInteger,ref;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0://Haven't updated for change of data structure yet\n//const userInfo = auth.currentUser;\n//const uid = userInfo.uid;\nuid='BQJQmkLEsmSLFn6WF2JWWlXZzVo1';moods=[];moodObj={};timeToInteger=function timeToInteger(time){var t=time.split(':');for(var i=0;i<t.length;i++){t[i]=parseInt(t[i]);}var timeAsInt=t[0]*3600+t[1]*60+t[2];return timeAsInt;};ref=database.ref('moods/'+uid+'/'+date);_context.next=7;return ref.once('value',function(snapshot){snapshot.forEach(function(a){var t=a.key;var time=timeToInteger(t);var m=a.val();var mood=m[Object.keys(m)[0]];moodObj={'time':time,'mood':mood};// moods [ time ] =  mood ;\nmoods.push(moodObj);});});case 7:return _context.abrupt(\"return\",moods);case 8:case\"end\":return _context.stop();}}},_callee);}));return _getMoodLog.apply(this,arguments);}export default getMoodLog;//exporting this for use in Data.js","map":{"version":3,"sources":["/Users/stanleyjia/Documents/Eudaimonia/firebase-auth/auth-app/src/Components/MoodData.js"],"names":["React","database","date","getMoodLog","callback","uid","moods","moodObj","timeToInteger","time","t","split","i","length","parseInt","timeAsInt","ref","once","snapshot","forEach","a","key","m","val","mood","Object","keys","push"],"mappings":"6RAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,YAAP,CACA,OAASC,QAAT,KAAyB,gBAAzB,CACA,OAASC,IAAT,KAAqB,cAArB,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;QACeC,CAAAA,U,+CAmCf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;2FArDA,iBAA0BC,QAA1B,0JACE;AACA;AACA;AACMC,GAJR,CAIc,8BAJd,CAKMC,KALN,CAKc,EALd,CAMMC,OANN,CAMgB,EANhB,CAQQC,aARR,CAQwB,QAAhBA,CAAAA,aAAgB,CAACC,IAAD,CAAU,CAC9B,GAAIC,CAAAA,CAAC,CAAGD,IAAI,CAACE,KAAL,CAAW,GAAX,CAAR,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGF,CAAC,CAACG,MAAtB,CAA8BD,CAAC,EAA/B,CAAmC,CACjCF,CAAC,CAACE,CAAD,CAAD,CAAOE,QAAQ,CAACJ,CAAC,CAACE,CAAD,CAAF,CAAf,CACD,CACD,GAAMG,CAAAA,SAAS,CAAKL,CAAC,CAAC,CAAD,CAAD,CAAO,IAAR,CAAiBA,CAAC,CAAC,CAAD,CAAD,CAAO,EAAxB,CAA8BA,CAAC,CAAC,CAAD,CAAlD,CACA,MAAQK,CAAAA,SAAR,CACD,CAfH,CAiBUC,GAjBV,CAiBgBf,QAAQ,CAACe,GAAT,CAAa,SAASX,GAAT,CAAa,GAAb,CAAiBH,IAA9B,CAjBhB,uBAkBUc,CAAAA,GAAG,CAACC,IAAJ,CAAS,OAAT,CAAkB,SAACC,QAAD,CAAc,CAClCA,QAAQ,CAACC,OAAT,CAAiB,SAACC,CAAD,CAAO,CACpB,GAAMV,CAAAA,CAAC,CAAGU,CAAC,CAACC,GAAZ,CACA,GAAMZ,CAAAA,IAAI,CAAGD,aAAa,CAACE,CAAD,CAA1B,CACA,GAAMY,CAAAA,CAAC,CAAGF,CAAC,CAACG,GAAF,EAAV,CACA,GAAMC,CAAAA,IAAI,CAAGF,CAAC,CAACG,MAAM,CAACC,IAAP,CAAYJ,CAAZ,EAAe,CAAf,CAAD,CAAd,CAEAf,OAAO,CAAG,CACN,OAASE,IADH,CAEN,OAASe,IAFH,CAAV,CAIA;AACAlB,KAAK,CAACqB,IAAN,CAAWpB,OAAX,EACH,CAZD,EAaH,CAdK,CAlBV,wCAiCWD,KAjCX,wD,6CAuDA,cAAeH,CAAAA,UAAf,CACA","sourcesContent":["import React from 'react';\nimport '../App.css';\nimport { database } from '../Firebase.js';\nimport { date } from './GetDate.js';\n\n// async function getMoodLog() {\n//     //Haven't updated for change of data structure yet\n//     //const userInfo = auth.currentUser;\n//     //const uid = userInfo.uid;\n//     const uid = 'BQJQmkLEsmSLFn6WF2JWWlXZzVo1';\n//     var moods = [];\n//     var moodObj = {};\nasync function getMoodLog(callback) {\n  //Haven't updated for change of data structure yet\n  //const userInfo = auth.currentUser;\n  //const uid = userInfo.uid;\n  const uid = 'BQJQmkLEsmSLFn6WF2JWWlXZzVo1';\n  var moods = [];\n  var moodObj = {};\n\n  const timeToInteger = (time) => {\n    var t = time.split(':');\n    for (var i = 0; i < t.length; i++) {\n      t[i] = parseInt(t[i]);\n    }\n    const timeAsInt = ((t[0] * 3600) + (t[1] * 60) + t[2]);\n    return (timeAsInt);\n  }\n\n    const ref = database.ref('moods/'+uid+'/'+date);\n    await ref.once('value', (snapshot) => {\n        snapshot.forEach((a) => {\n            const t = a.key;\n            const time = timeToInteger(t);\n            const m = a.val();\n            const mood = m[Object.keys(m)[0]];\n\n            moodObj = {\n                'time' : time,\n                'mood' : mood          \n            }\n            // moods [ time ] =  mood ;\n            moods.push(moodObj);\n        })\n    })\n    return(moods);\n}\n//   const ref = database.ref('moods/' + uid + '/' + date);\n//   ref.once('value', (snapshot) => {\n//     var moods = [];\n//     snapshot.forEach((a) => {\n//       const t = a.key;\n//       const time = timeToInteger(t);\n//       const m = a.val();\n//       const mood = m[Object.keys(m)[0]];\n\n//       var moodObj = {\n//         'time': time,\n//         'mood': mood\n//       };\n//       moods.push(moodObj);\n//     });\n//     callback(moods);\n//     return (moods);\n//   });\n// }\n\nexport default getMoodLog;\n//exporting this for use in Data.js"]},"metadata":{},"sourceType":"module"}