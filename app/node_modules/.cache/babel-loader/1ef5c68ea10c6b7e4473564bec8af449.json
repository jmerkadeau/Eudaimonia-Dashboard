{"ast":null,"code":"import React from 'react';\nimport '../App.css';\nimport { database } from '../Firebase.js';\nimport { date } from './GetDate.js'; // async function getMoodLog() {\n//     //Haven't updated for change of data structure yet\n//     //const userInfo = auth.currentUser;\n//     //const uid = userInfo.uid;\n//     const uid = 'BQJQmkLEsmSLFn6WF2JWWlXZzVo1';\n//     var moods = [];\n//     var moodObj = {};\n\nasync function getMoodLog(callback) {\n  //Haven't updated for change of data structure yet\n  //const userInfo = auth.currentUser;\n  //const uid = userInfo.uid;\n  const uid = 'BQJQmkLEsmSLFn6WF2JWWlXZzVo1';\n  var moods = [];\n  var moodObj = {};\n\n  const timeToInteger = time => {\n    var t = time.split(':');\n\n    for (var i = 0; i < t.length; i++) {\n      t[i] = parseInt(t[i]);\n    }\n\n    const timeAsInt = t[0] * 3600 + t[1] * 60 + t[2];\n    return timeAsInt;\n  };\n\n  const ref = database.ref('moods/' + uid + '/' + date);\n  await ref.once('value', snapshot => {\n    snapshot.forEach(a => {\n      const t = a.key;\n      const time = timeToInteger(t);\n      const m = a.val();\n      const mood = m[Object.keys(m)[0]];\n      moodObj = {\n        'time': time,\n        'mood': mood\n      }; // moods [ time ] =  mood ;\n\n      moods.push(moodObj);\n    });\n  });\n  return moods;\n} //   const ref = database.ref('moods/' + uid + '/' + date);\n//   ref.once('value', (snapshot) => {\n//     var moods = [];\n//     snapshot.forEach((a) => {\n//       const t = a.key;\n//       const time = timeToInteger(t);\n//       const m = a.val();\n//       const mood = m[Object.keys(m)[0]];\n//       var moodObj = {\n//         'time': time,\n//         'mood': mood\n//       };\n//       moods.push(moodObj);\n//     });\n//     callback(moods);\n//     return (moods);\n//   });\n// }\n\n\nexport default getMoodLog; //exporting this for use in Data.js","map":{"version":3,"sources":["/Users/stanleyjia/Documents/Eudaimonia/firebase-auth/auth-app/src/Components/MoodData.js"],"names":["React","database","date","getMoodLog","callback","uid","moods","moodObj","timeToInteger","time","t","split","i","length","parseInt","timeAsInt","ref","once","snapshot","forEach","a","key","m","val","mood","Object","keys","push"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;AACA,SAASC,QAAT,QAAyB,gBAAzB;AACA,SAASC,IAAT,QAAqB,cAArB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAeC,UAAf,CAA0BC,QAA1B,EAAoC;AAClC;AACA;AACA;AACA,QAAMC,GAAG,GAAG,8BAAZ;AACA,MAAIC,KAAK,GAAG,EAAZ;AACA,MAAIC,OAAO,GAAG,EAAd;;AAEA,QAAMC,aAAa,GAAIC,IAAD,IAAU;AAC9B,QAAIC,CAAC,GAAGD,IAAI,CAACE,KAAL,CAAW,GAAX,CAAR;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,CAAC,CAACG,MAAtB,EAA8BD,CAAC,EAA/B,EAAmC;AACjCF,MAAAA,CAAC,CAACE,CAAD,CAAD,GAAOE,QAAQ,CAACJ,CAAC,CAACE,CAAD,CAAF,CAAf;AACD;;AACD,UAAMG,SAAS,GAAKL,CAAC,CAAC,CAAD,CAAD,GAAO,IAAR,GAAiBA,CAAC,CAAC,CAAD,CAAD,GAAO,EAAxB,GAA8BA,CAAC,CAAC,CAAD,CAAlD;AACA,WAAQK,SAAR;AACD,GAPD;;AASE,QAAMC,GAAG,GAAGf,QAAQ,CAACe,GAAT,CAAa,WAASX,GAAT,GAAa,GAAb,GAAiBH,IAA9B,CAAZ;AACA,QAAMc,GAAG,CAACC,IAAJ,CAAS,OAAT,EAAmBC,QAAD,IAAc;AAClCA,IAAAA,QAAQ,CAACC,OAAT,CAAkBC,CAAD,IAAO;AACpB,YAAMV,CAAC,GAAGU,CAAC,CAACC,GAAZ;AACA,YAAMZ,IAAI,GAAGD,aAAa,CAACE,CAAD,CAA1B;AACA,YAAMY,CAAC,GAAGF,CAAC,CAACG,GAAF,EAAV;AACA,YAAMC,IAAI,GAAGF,CAAC,CAACG,MAAM,CAACC,IAAP,CAAYJ,CAAZ,EAAe,CAAf,CAAD,CAAd;AAEAf,MAAAA,OAAO,GAAG;AACN,gBAASE,IADH;AAEN,gBAASe;AAFH,OAAV,CANoB,CAUpB;;AACAlB,MAAAA,KAAK,CAACqB,IAAN,CAAWpB,OAAX;AACH,KAZD;AAaH,GAdK,CAAN;AAeA,SAAOD,KAAP;AACH,C,CACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,eAAeH,UAAf,C,CACA","sourcesContent":["import React from 'react';\nimport '../App.css';\nimport { database } from '../Firebase.js';\nimport { date } from './GetDate.js';\n\n// async function getMoodLog() {\n//     //Haven't updated for change of data structure yet\n//     //const userInfo = auth.currentUser;\n//     //const uid = userInfo.uid;\n//     const uid = 'BQJQmkLEsmSLFn6WF2JWWlXZzVo1';\n//     var moods = [];\n//     var moodObj = {};\nasync function getMoodLog(callback) {\n  //Haven't updated for change of data structure yet\n  //const userInfo = auth.currentUser;\n  //const uid = userInfo.uid;\n  const uid = 'BQJQmkLEsmSLFn6WF2JWWlXZzVo1';\n  var moods = [];\n  var moodObj = {};\n\n  const timeToInteger = (time) => {\n    var t = time.split(':');\n    for (var i = 0; i < t.length; i++) {\n      t[i] = parseInt(t[i]);\n    }\n    const timeAsInt = ((t[0] * 3600) + (t[1] * 60) + t[2]);\n    return (timeAsInt);\n  }\n\n    const ref = database.ref('moods/'+uid+'/'+date);\n    await ref.once('value', (snapshot) => {\n        snapshot.forEach((a) => {\n            const t = a.key;\n            const time = timeToInteger(t);\n            const m = a.val();\n            const mood = m[Object.keys(m)[0]];\n\n            moodObj = {\n                'time' : time,\n                'mood' : mood          \n            }\n            // moods [ time ] =  mood ;\n            moods.push(moodObj);\n        })\n    })\n    return(moods);\n}\n//   const ref = database.ref('moods/' + uid + '/' + date);\n//   ref.once('value', (snapshot) => {\n//     var moods = [];\n//     snapshot.forEach((a) => {\n//       const t = a.key;\n//       const time = timeToInteger(t);\n//       const m = a.val();\n//       const mood = m[Object.keys(m)[0]];\n\n//       var moodObj = {\n//         'time': time,\n//         'mood': mood\n//       };\n//       moods.push(moodObj);\n//     });\n//     callback(moods);\n//     return (moods);\n//   });\n// }\n\nexport default getMoodLog;\n//exporting this for use in Data.js"]},"metadata":{},"sourceType":"module"}